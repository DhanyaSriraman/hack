{"ast":null,"code":"import _asyncToGenerator from\"D:/shna/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/shna/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/shna/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/shna/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\shna\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import Threads from\"./Threads\";import Sidebar from\"./Sidebar\";import{signUp,login}from\"./authService\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),threads=_useState2[0],setThreads=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isSignUp=_useState4[0],setIsSignUp=_useState4[1];var _useState5=useState({email:\"\",password:\"\"}),_useState6=_slicedToArray(_useState5,2),form=_useState6[0],setForm=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loggedIn=_useState10[0],setLoggedIn=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),selectedConversation=_useState12[0],setSelectedConversation=_useState12[1];var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _signUp,success,_message,_yield$login,_success,_message2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!isSignUp){_context.next=7;break;}_signUp=signUp(form.email,form.password),success=_signUp.success,_message=_signUp.message;setMessage(_message);if(success){setIsSignUp(false);}_context.next=14;break;case 7:_context.next=9;return login(form.email,form.password);case 9:_yield$login=_context.sent;_success=_yield$login.success;_message2=_yield$login.message;setMessage(_message2);if(_success){setThreads(true);setLoggedIn(true);}case 14:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var toggleForm=function toggleForm(){setIsSignUp(!isSignUp);setMessage(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#A9BA9D] w-[100vw] h-[100vh] flex items-center justify-center\",children:[loggedIn&&/*#__PURE__*/_jsx(Sidebar,{setSelectedConversation:setSelectedConversation}),threads?/*#__PURE__*/_jsx(Threads,{conversation:selectedConversation}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#BDD1BD] p-8 rounded shadow-md w-96\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-center\",children:isSignUp?\"Sign Up\":\"Login\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"mb-4 \".concat(message.includes(\"success\")?\"text-green-500\":\"text-red-500\"),children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"string\",name:\"email\",value:form.email,onChange:handleInputChange,required:true,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:form.password,onChange:handleInputChange,required:true,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-10 rounded focus:outline-none focus:shadow-outline\",children:isSignUp?\"Sign Up\":\"Login\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleForm,className:\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800 ml-2\",children:isSignUp?\"Already have an account? Login\":\"Need an account? Sign Up\"})]})]})]})]});};export default Home;","map":{"version":3,"sources":["D:/shna/src/Components/Home.js"],"names":["React","useState","Threads","Sidebar","signUp","login","axios","Home","threads","setThreads","isSignUp","setIsSignUp","email","password","form","setForm","message","setMessage","loggedIn","setLoggedIn","selectedConversation","setSelectedConversation","handleInputChange","e","target","name","value","handleSubmit","preventDefault","success","toggleForm","includes"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Threads from \"./Threads\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport { signUp, login } from \"./authService\";\r\nimport axios from 'axios';\r\nconst Home = () => {\r\n  const [threads, setThreads] = useState(false);\r\n  const [isSignUp, setIsSignUp] = useState(true);\r\n  const [form, setForm] = useState({ email: \"\", password: \"\" });\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [selectedConversation, setSelectedConversation] = useState(null);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm({ ...form, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (isSignUp) {\r\n      const { success, message } = signUp(form.email, form.password);\r\n      setMessage(message);\r\n      if (success) {\r\n        setIsSignUp(false);\r\n      }\r\n    } else {\r\n      const { success, message } = await login(form.email, form.password);\r\n      setMessage(message);\r\n      if (success) {\r\n        setThreads(true);\r\n        setLoggedIn(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleForm = () => {\r\n    setIsSignUp(!isSignUp);\r\n    setMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-[#A9BA9D] w-[100vw] h-[100vh] flex items-center justify-center\">\r\n      {loggedIn && <Sidebar setSelectedConversation={setSelectedConversation} />}\r\n      {threads ? (\r\n        <Threads conversation={selectedConversation} />\r\n      ) : (\r\n        <div className=\"bg-[#BDD1BD] p-8 rounded shadow-md w-96\">\r\n          <h2 className=\"text-2xl font-bold mb-6 text-center\">\r\n            {isSignUp ? \"Sign Up\" : \"Login\"}\r\n          </h2>\r\n          {message && (\r\n            <p className={`mb-4 ${message.includes(\"success\") ? \"text-green-500\" : \"text-red-500\"}`}>\r\n              {message}\r\n            </p>\r\n          )}\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                Username\r\n              </label>\r\n              <input\r\n                type=\"string\"\r\n                name=\"email\"\r\n                value={form.email}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n              />\r\n            </div>\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={form.password}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\r\n              />\r\n            </div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-10 rounded focus:outline-none focus:shadow-outline\"\r\n              >\r\n                {isSignUp ? \"Sign Up\" : \"Login\"}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={toggleForm}\r\n                className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800 ml-2\"\r\n              >\r\n                {isSignUp ? \"Already have an account? Login\" : \"Need an account? Sign Up\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}